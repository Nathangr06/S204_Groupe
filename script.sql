-- V1.1.0

PROMPT "Création de la base de données IMMO";

-- **************************************************************************** Définition des données

PROMPT "Définition des données";

DROP TABLE PROPRIO CASCADE CONSTRAINTS PURGE;
DROP TABLE ESPACE CASCADE CONSTRAINTS PURGE;
DROP TABLE BIEN CASCADE CONSTRAINTS PURGE;

CREATE TABLE PROPRIO(
    IDP NUMBER(10,0),
    NOM VARCHAR2(20),
    PRENOM VARCHAR2(20),
    CONSTRAINT PK_PROPRIO PRIMARY KEY(IDP)
);

CREATE TABLE ESPACE(
    IDE NUMBER(10,0),
    DESIGNATION VARCHAR2(25),
    SUPERFICIE NUMBER(10,0),
    IDERATTACH NUMBER(10,0),
    CONSTRAINT PK_ESPACE PRIMARY KEY(IDE),
    CONSTRAINT FK_ESPACE_ESPACE FOREIGN KEY(IDERATTACH) REFERENCES ESPACE(IDE)
);

CREATE TABLE BIEN(
    IDEBIEN NUMBER(10,0),
    CATEGORIE VARCHAR2(20),
    TYPE VARCHAR2(10),
    IDP NUMBER(10,0),
    VILLE VARCHAR2(20),
    PRIX NUMBER(10),
    CONSTRAINT PK_BIEN PRIMARY KEY(IDEBIEN),
    CONSTRAINT FK_BIEN_ESPACE FOREIGN KEY(IDEBIEN) REFERENCES ESPACE(IDE),
    CONSTRAINT FK2_BIEN_PROPRIO FOREIGN KEY(IDP) REFERENCES PROPRIO(IDP),
    CONSTRAINT CH_BIEN_CATEGORIE CHECK (CATEGORIE IN ('APPARTEMENT','MAISON DE VILLE','VILLA','HLM','BIDONVILLE','MANOIR')),
    CONSTRAINT CH2_BIEN_TYPE CHECK (TYPE IN ('STUDIO','T1','T2','T3','T4','T5','T6','T8','T9'))
);

-- **************************************************************************** Insertions des données

PROMPT "Insertions des données";

PROMPT "Insertions des données de la table ESPACE";

PROMPT "1er ensemble d'espaces STUDIO";

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3247,'STUDIO',60,NULL);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3248,'SALLE D''EAU',15,3247);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3249,'PIECE A VIVRE',45,3248);

PROMPT "2e ensemble d'espaces VILLA";

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4400,'VILLA',320,NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4401,'TERRASSE',200,4400);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4402,'INTERIEUR',120,4400);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4403,'PISCINE',35,4401);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4404,'COULOIR',20,4402);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4405,'SALLE DE BAIN',8,4402);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4406,'CHAMBRE',12,4402);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4407,'CHAMBRE',12,4402);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4408,'CHAMBRE',10,4402);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4409,'SALON',45,4402);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4410,'PLACARD',10,4404);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4411,'SALLE DE BAIN',10,4404);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4412,'CUISINE',12,4409);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4413,'SEJOUR',25,4409);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4414,'SALLE A MANGER',8,4409);

PROMPT "3e ensemble d'espaces APPARTEMENT";

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2100, 'APPARTEMENT',79, NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2101, 'INTERIEUR', 66, 2100);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2102, 'BALCON', 13, 2100);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2103, 'SALON', 30, 2101);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2104, 'CUISINE', 10, 2101);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2105, 'COULOIR', 8, 2101);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2106, 'CHAMBRE', 7, 2101);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2107, 'CHAMBRE', 9, 2101);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2108, 'TOILETTES', 2, 2101);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2109, 'SALLE A MANGER', 5, 2103);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2110, 'SEJOUR', 25, 2103);

PROMPT "Insertion 4e ensemble de d'espaces MANOIR";

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3000, 'MANOIR', 10270, NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3001, 'INTERIEUR', 270, 3000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3002, 'EXTERIEUR', 10000, 3000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3003, 'GARAGE', 100, 3002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3004, 'JARDIN', 9900, 3002);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3005, '1ER ETAGE', 125, 3001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3006, 'RDC', 145, 3001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3007, 'CHAMBRE PRINCIPALE', 35, 3005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3008, 'CHAMBRE D''AMIS', 20, 3005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3009, 'CHAMBRE D''AMIS', 20, 3005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3010, 'SALLE DE BAIN PRINCIPALE', 25, 3005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3011, 'SALLE FAMILIALE', 30, 3005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3012, 'CHAMBRE ENFANT', 15, 3005);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3013, 'HALL D''ENTREE', 20, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3014, 'SALON', 40, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3015, 'SALLE A MANGER', 30, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3016, 'CUISINE', 25, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3017, 'BUREAU', 20, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3018, 'CHAMBRE D''AMIS', 20, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3019, 'SALLE DE BAIN INVITES', 10, 3006);

PROMPT "Insertion 5e ensemble d'espaces CHALET";

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5000, 'CHALET', 166, NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5001, 'INTERIEUR', 57, 5000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5002, 'EXTERIEUR', 109, 5000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5003, 'SALON', 30, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5004, 'CHAMBRE', 10, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5005, 'CUISINE', 8, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5006, 'SALLE DE BAIN', 5, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5007, 'TOILETTES', 2, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5008, 'PLACARD', 2, 5001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5009, 'BALCON', 9, 5002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5010, 'JARDIN', 100, 5002);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5011, 'SEJOUR', 20, 5003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5012, 'SALLE A MANGER', 10, 5003);

PROMPT "Insertion 5e ensemble d'espaces HLM";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6000, 'HLM', 51, NULL);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6001, 'INTERIEUR',44, 6000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6002, 'TERRASE', 7, 6000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6003, 'COIN SEJOUR', 25, 6001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6004, 'CHAMBRE', 12, 6001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6005, 'SALLE DE BAIN', 6, 6001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6006, 'CELIER', 1, 6001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6007, 'ENTREE', 4, 6003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6008, 'CUISINE', 7, 6003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6009, 'SALON', 14, 6003);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6010, 'SEJOUR', 10, 6009);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6011, 'SALLE A MANGER', 4, 6009);


PROMPT "Insertions des données de la table PROPRIO";

INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(1, 'GRIGUER', 'NATHAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(2, 'AMROUNE', 'AKIM');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(3, 'GUL', 'FURKAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(4, 'ZEGANNE', 'SOFIEN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(5, 'ORLANDI', 'LENNY');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(6, 'DIAZ', 'GWENN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(7, 'CELESTINE', 'SAMUEL');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(8, 'ANTOINE', 'THOMAS');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(9, 'BAURENS-TORRENTE', 'VALENTIN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(10, 'BAGNIS', 'ENZO');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(11, 'SISE', 'ABOUBAKAR');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(12, 'RAPANAKIS-BOURG', 'MARIUS');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(13, 'RADJOU', 'DINESH');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(14, 'UYSUN', 'ALI');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(15, 'ALLARD', 'LOAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(16, 'RINALDI', 'ANTOINE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(17, 'CLOT-GODARD', 'KENJI');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(18, 'NGOM','MAGUEYE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(19, 'PIBOULEAU', 'JEAN-BAPTISTE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(20, 'SENE', 'PABLO');

INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(21, 'ANNI', 'SAMUEL');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(22, 'MARTIN-NEVOT', 'MICKAEL');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(23, 'LAKHAL', 'LOTFI');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(24, 'JOUINI', 'RIM');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(25, 'MAKSSOUD', 'CRISTINE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(26, 'GOUILLON', 'NICOLAS');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(27, 'YAHI','SAFA');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(28, 'FRANCON','DOMINIQUE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(29, 'DELAMOTTE', 'PIERRICK');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(30, 'MORANCEY', 'MORGAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(31, 'AGOSTINELLI', 'LAURANCE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(32, 'CASALI', 'ALAIN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(33, 'SLEZAK','EILEEN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(34, 'BETARI', 'ABDELKADER');




PROMPT "Insertions des données de la table BIEN";

INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(3247,'APPARTEMENT','STUDIO',1,'MARSEILLE',60000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(4400,'VILLA','T4',3,'MARSEILLE',10);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(2100, 'APPARTEMENT', 'T3', 8, 'AIX-EN-PROVENCE', 120000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(3000, 'MANOIR', 'T9', 10, 'BERRE', 800000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(5000, 'CHALET', 'T2', 11,'MARSEILLE', 90000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(6000, 'HLM', 'T2',6,'AIX-EN-PROVENCE',50000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(5000, 'CHALET', 'T2', 11,'MARSEILLE', 90000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(3247, 'APPARTEMENT', 'T3', 32, 'AIX-EN-PROVENCE', 20);

