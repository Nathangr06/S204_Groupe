-- V1.1.0

PROMPT "Création de la base de données IMMO";

-- **************************************************************************** Définition des données

PROMPT "Définition des données";

DROP TABLE PROPRIO CASCADE CONSTRAINTS PURGE;
DROP TABLE ESPACE CASCADE CONSTRAINTS PURGE;
DROP TABLE BIEN CASCADE CONSTRAINTS PURGE;

CREATE TABLE PROPRIO(
    IDP NUMBER(10,0),
    NOM VARCHAR2(20),
    PRENOM VARCHAR2(20),
    CONSTRAINT PK_PROPRIO PRIMARY KEY(IDP)
);

CREATE TABLE ESPACE(
    IDE NUMBER(10,0),
    DESIGNATION VARCHAR2(25),
    SUPERFICIE NUMBER(10,0),
    IDERATTACH NUMBER(10,0),
    CONSTRAINT PK_ESPACE PRIMARY KEY(IDE),
    CONSTRAINT FK_ESPACE_ESPACE FOREIGN KEY(IDERATTACH) REFERENCES ESPACE(IDE)
);

CREATE TABLE BIEN(
    IDEBIEN NUMBER(10,0),
    CATEGORIE VARCHAR2(20),
    TYPE VARCHAR2(10),
    IDP NUMBER(10,0),
    VILLE VARCHAR2(20),
    PRIX NUMBER(10),
    CONSTRAINT PK_BIEN PRIMARY KEY(IDEBIEN),
    CONSTRAINT FK_BIEN_ESPACE FOREIGN KEY(IDEBIEN) REFERENCES ESPACE(IDE),
    CONSTRAINT FK2_BIEN_PROPRIO FOREIGN KEY(IDP) REFERENCES PROPRIO(IDP),
    CONSTRAINT CH_BIEN_CATEGORIE CHECK (CATEGORIE IN ('APPARTEMENT','MAISON DE VILLE','VILLA','HLM','BIDONVILLE','MANOIR','CHALET')),
    CONSTRAINT CH2_BIEN_TYPE CHECK (TYPE IN ('STUDIO','T1','T2','T3','T4','T5','T6','T8','T9'))
);

-- **************************************************************************** Insertions des données


PROMPT "Insertions des données";


PROMPT "Insertions des données de la table ESPACE";


PROMPT "1er STUDIO id=945";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(945,'STUDIO',60,NULL);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(946,'SALLE D''EAU',15,945);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(947,'PIECE A VIVRE',45,945);


PROMPT "2e STUDIO id=1000";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(1000,'STUDIO',60,NULL);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(1001,'SALLE D''EAU',15,1000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(1002,'PIECE A VIVRE',45,1000);


PROMPT "3e STUDIO id=1100";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(1100,'STUDIO',60,NULL);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(1101,'SALLE D''EAU',15,1100);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(1102,'PIECE A VIVRE',45,1100);


PROMPT "1er VILLA id=2000";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2000,'VILLA',320,NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2001,'TERRASSE',200,2000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2002,'INTERIEUR',120,2000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2003,'PISCINE',35,2001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2004,'COULOIR',20,2002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2005,'SALLE DE BAIN',8,2002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2006,'CHAMBRE',12,2002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2007,'CHAMBRE',12,2002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2008,'CHAMBRE',10,2002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2009,'SALON',45,2002);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2010,'PLACARD',10,2004);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2011,'SALLE DE BAIN',10,2004);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2012,'CUISINE',12,2009);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2013,'SEJOUR',25,2009);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(2014,'SALLE A MANGER',8,2009);


PROMPT "1er APPARTEMENT T3 id=3000";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3000, 'APPARTEMENT',79, NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3001, 'INTERIEUR', 66, 3000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3002, 'BALCON', 13, 3000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3003, 'SALON', 30, 3001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3004, 'CUISINE', 10, 3001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3005, 'COULOIR', 8, 3001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3006, 'CHAMBRE', 7, 3001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3007, 'CHAMBRE', 9, 3001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3008, 'TOILETTES', 2, 3001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3009, 'SALLE A MANGER', 5, 3003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(3010, 'SEJOUR', 25, 3003);


PROMPT "1er MANOIR id=4000";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4000, 'MANOIR', 10270, NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4001, 'INTERIEUR', 270, 4000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4002, 'EXTERIEUR', 10000, 4000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4003, 'GARAGE', 100, 4002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4004, 'JARDIN', 9900, 4002);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4005, '1ER ETAGE', 125, 4001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4006, 'RDC', 145, 4001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4007, 'CHAMBRE PRINCIPALE', 35, 4005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4008, 'CHAMBRE D''AMIS', 20, 4005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4009, 'CHAMBRE D''AMIS', 20, 4005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4010, 'SALLE DE BAIN PRINCIPALE', 25, 4005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4011, 'SALLE FAMILIALE', 30, 4005);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4012, 'CHAMBRE ENFANT', 15, 4005);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4013, 'HALL D''ENTREE', 20, 4006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4014, 'SALON', 40, 4006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4015, 'SALLE A MANGER', 30, 4006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4016, 'CUISINE', 25, 4006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4017, 'BUREAU', 20, 4006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4018, 'CHAMBRE D''AMIS', 20, 3006);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(4019, 'SALLE DE BAIN INVITES', 10, 4006);


PROMPT "1er CHALET id=5000";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5000, 'CHALET', 166, NULL);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5001, 'INTERIEUR', 57, 5000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5002, 'EXTERIEUR', 109, 5000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5003, 'SALON', 30, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5004, 'CHAMBRE', 10, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5005, 'CUISINE', 8, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5006, 'SALLE DE BAIN', 5, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5007, 'TOILETTES', 2, 5001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5008, 'PLACARD', 2, 5001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5009, 'BALCON', 9, 5002);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5010, 'JARDIN', 100, 5002);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5011, 'SEJOUR', 20, 5003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(5012, 'SALLE A MANGER', 10, 5003);


PROMPT "1er HLM id=6000";
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6000, 'HLM', 51, NULL);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6001, 'INTERIEUR',44, 6000);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6002, 'TERRASE', 7, 6000);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6003, 'COIN SEJOUR', 25, 6001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6004, 'CHAMBRE', 12, 6001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6005, 'SALLE DE BAIN', 6, 6001);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6006, 'CELIER', 1, 6001);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6007, 'ENTREE', 4, 6003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6008, 'CUISINE', 7, 6003);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6009, 'SALON', 14, 6003);

INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6010, 'SEJOUR', 10, 6009);
INSERT INTO ESPACE(IDE, DESIGNATION, SUPERFICIE, IDERATTACH) VALUES(6011, 'SALLE A MANGER', 4, 6009);


PROMPT "Insertions des données de la table PROPRIO";
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(1, 'GRIGUER', 'NATHAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(2, 'AMROUNE', 'AKIM');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(3, 'GUL', 'FURKAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(4, 'ZEGANNE', 'SOFIEN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(5, 'ORLANDI', 'LENNY');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(6, 'DIAZ', 'GWENN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(7, 'CELESTINE', 'SAMUEL');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(8, 'ANTOINE', 'THOMAS');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(9, 'BAURENS-TORRENTE', 'VALENTIN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(10, 'BAGNIS', 'ENZO');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(11, 'SISE', 'ABOUBAKAR');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(12, 'RAPANAKIS-BOURG', 'MARIUS');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(13, 'RADJOU', 'DINESH');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(14, 'UYSUN', 'ALI');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(15, 'ALLARD', 'LOAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(16, 'RINALDI', 'ANTOINE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(17, 'CLOT-GODARD', 'KENJI');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(18, 'NGOM','MAGUEYE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(19, 'PIBOULEAU', 'JEAN-BAPTISTE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(20, 'SENE', 'PABLO');

INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(21, 'ANNI', 'SAMUEL');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(22, 'MARTIN-NEVOT', 'MICKAEL');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(23, 'LAKHAL', 'LOTFI');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(24, 'JOUINI', 'RIM');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(25, 'MAKSSOUD', 'CRISTINE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(26, 'GOUILLON', 'NICOLAS');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(27, 'YAHI','SAFA');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(28, 'FRANCON','DOMINIQUE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(29, 'DELAMOTTE', 'PIERRICK');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(30, 'MORANCEY', 'MORGAN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(31, 'AGOSTINELLI', 'LAURANCE');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(32, 'CASALI', 'ALAIN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(33, 'SLEZAK','EILEEN');
INSERT INTO PROPRIO (IDP, NOM,PRENOM) VALUES(34, 'BETARI', 'ABDELKADER');


/*
Tous les types de bâtiments :
- APPARTEMENT STUDIO (id=1000)
- VILLA T4 (id=2000)
- APPARTEMENT T3 (id=3000)
- MANOIR T9 (id=4000)
- CHALET T2 (id=5000)
- HLM T2 (id=6000)
*/

-- id proprio : 1,3,6,8,10,11,18,21


PROMPT "Insertions des données de la table BIEN";
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(945,'APPARTEMENT','STUDIO',1,'MARSEILLE',60000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(1000,'APPARTEMENT','STUDIO',18,'MARSEILLE',70000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(1100,'APPARTEMENT','STUDIO',21,'MARSEILLE',70000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(2000,'VILLA','T4',3,'MARSEILLE',10);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(3000, 'APPARTEMENT', 'T3', 8, 'AIX-EN-PROVENCE', 120000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(4000, 'MANOIR', 'T9', 10, 'BERRE', 800000);
--INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(4100, 'MANOIR', 'T9', 15, 'AIX EN PROVENCE', 900000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(5000, 'CHALET', 'T2', 11,'MARSEILLE', 90000);
INSERT INTO BIEN(IDEBIEN,CATEGORIE, TYPE, IDP, VILLE, PRIX) VALUES(6000, 'HLM', 'T2',6,'AIX-EN-PROVENCE',50000);
